#!/usr/bin/env python3
"""
–ó–ê–ü–£–°–ö–ê–õ–ö–ê –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê –û–ë–†–ê–ë–û–¢–ö–ò
–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —ç—Ç–∞–ø—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
"""

import subprocess
import sys
from pathlib import Path

print("=" * 70)
print("  –ò–ù–°–¢–†–£–ú–ï–ù–¢ –ü–û–î–ì–û–¢–û–í–ö–ò –î–ê–ù–ù–´–•")
print("  –ê–Ω—Å–µ—Å—Ç–æ–ª–æ–≥–∏—è –∏ –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è")
print("=" * 70)
print()

processor_dir = Path(__file__).parent

def run_script(script_name):
    """–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
    script_path = processor_dir / script_name
    print(f"\n‚ñ∂ –ó–∞–ø—É—Å–∫: {script_name}")
    print("-" * 70)
    
    try:
        result = subprocess.run(
            [sys.executable, str(script_path)],
            cwd=processor_dir.parent,
            capture_output=False,
            text=True
        )
        return result.returncode == 0
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞: {e}")
        return False

# –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ PDF
print("–≠–¢–ê–ü 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")
print("=" * 70)

if run_script("create_database.py"):
    print("\n‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
else:
    print("\n‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")
    sys.exit(1)

# –≠—Ç–∞–ø 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ PyPDF2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
print("\n\n" + "=" * 70)
print("–≠–¢–ê–ü 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ PDF (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)")
print("=" * 70)

print("\n–ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF.")
print("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ñ–æ—Ä–º—É–ª—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.")
print("–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∏–∑ PDF –¥–ª—è –ø–æ–∏—Å–∫–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:")
print("  python processor/process.py")

print("\n\n" + "=" * 70)
print("  ‚úÖ –ü–û–î–ì–û–¢–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!")
print("=" * 70)
print()
print("–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö:")
print("  üìÑ data/formulas.json - –≤—Å–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–æ–≤")
print("  üìÑ data/practices.json - –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏")
print("  üìÑ data/algorithms.json - –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ö–µ–º—ã")
print("  üìÑ data/number_meanings.json - –∑–Ω–∞—á–µ–Ω–∏—è —á–∏—Å–µ–ª")
print("  üìÑ data/index.json - –æ–±—â–∏–π –∏–Ω–¥–µ–∫—Å")
print()
print("–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞–ø–∫–µ app/")
print("=" * 70)
